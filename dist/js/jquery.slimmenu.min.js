!function(e,n,i,s){"use strict";function l(n,i){this.element=n,this.$elem=e(this.element),this.options=e.extend(d,i),this.init()}var t="slimmenu",a=0,d={resizeWidth:"767",initiallyVisible:!1,collapserTitle:"Main Menu",animSpeed:"medium",easingEffect:null,indentChildren:!1,childrenIndenter:"&nbsp;&nbsp;",expandIcon:"<i>&#9660;</i>",collapseIcon:"<i>&#9650;</i>"};l.prototype={init:function(){var i,s=e(n),l=this.options,t=this.$elem,a='<div class="menu-collapser">'+l.collapserTitle+'<div class="collapse-button"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></div></div>';t.before(a),i=t.prev(".menu-collapser"),t.on("click",".sub-collapser",function(n){n.preventDefault(),n.stopPropagation();var i=e(this).closest("li");e(this).hasClass("expanded")?(e(this).removeClass("expanded").html(l.expandIcon),i.find(">ul").slideUp(l.animSpeed,l.easingEffect)):(e(this).addClass("expanded").html(l.collapseIcon),i.find(">ul").slideDown(l.animSpeed,l.easingEffect))}),i.on("click",".collapse-button",function(e){e.preventDefault(),t.slideToggle(l.animSpeed,l.easingEffect)}),this.resizeMenu(),s.on("resize",this.resizeMenu.bind(this)),s.trigger("resize")},resizeMenu:function(){var i=this,l=e(n),t=l.width(),d=this.options,o=e(this.element),h=e("body").find(".menu-collapser");n.innerWidth!==s&&n.innerWidth>t&&(t=n.innerWidth),t!=a&&(a=t,o.find("li").each(function(){e(this).has("ul").length&&(e(this).addClass("has-submenu").has(".sub-collapser").length?e(this).children(".sub-collapser").html(d.expandIcon):e(this).addClass("has-submenu").append('<span class="sub-collapser">'+d.expandIcon+"</span>")),e(this).children("ul").hide().end().find(".sub-collapser").removeClass("expanded").html(d.expandIcon)}),d.resizeWidth>=t?(d.indentChildren&&o.find("ul").each(function(){var n=e(this).parents("ul").length;e(this).children("li").children("a").has("i").length||e(this).children("li").children("a").prepend(i.indent(n,d))}),o.addClass("collapsed").find("li").has("ul").off("mouseenter mouseleave"),h.show(),d.initiallyVisible||o.hide()):(o.find("li").has("ul").on("mouseenter",function(){e(this).find(">ul").stop().slideDown(d.animSpeed,d.easingEffect)}).on("mouseleave",function(){e(this).find(">ul").stop().slideUp(d.animSpeed,d.easingEffect)}),o.find("li > a > i").remove(),o.removeClass("collapsed").show(),h.hide()))},indent:function(e,n){for(var i=0,s="";i<e;i++)s+=n.childrenIndenter;return"<i>"+s+"</i> "}},e.fn[t]=function(n){return this.each(function(){e.data(this,"plugin_"+t)||e.data(this,"plugin_"+t,new l(this,n))})}}(jQuery,window,document);